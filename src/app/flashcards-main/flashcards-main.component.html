<la-square>

  <la-message></la-message>
  
  <la-header title="Moji Flashcard setovi" [backRoute]="'/ucenje'"></la-header>

  <div class="new-flashcard">
    <p>Kreiraj novi set za vežbanje</p>
    <div class="plus-item-wrapper" (click)="navigate()">
      <img src="assets/images/plus-icon.png" alt="plus" />
    </div>
  </div>

  <div *ngIf="sets.length === 0">
    <p class="choose-text">Trenutno nemate nijedan set</p>
  </div>

  <div *ngIf="sets.length > 0">
    <p class="choose-text">Izaberi set koji želiš da provezbaš</p>
  </div>

  <div class="flashcard-sets">
    <div 
      class="flashcard-set" 
      *ngFor="let set of sets; let i = index"
      [class.delete-mode]="deleteMode"
      [class.selected]="deleteMode && selectedSets.has(i)"
      (click)="deleteMode ? toggleSelect(i) : playSet(i)">

      <div class="set-content">
        <img [src]="getRandomImage(i)" alt="Set slika" />
        <span class="set-name">{{ set.name }}</span>
      </div>
    </div>
  </div>

  <div class="actions" *ngIf="sets.length > 0">
    <button class="delete-mode-btn" (click)="toggleDeleteMode()">
      {{ deleteMode ? 'Otkaži brisanje' : 'Obriši set' }}
    </button>

    <button 
      class="confirm-delete-btn" 
      *ngIf="deleteMode && selectedSets.size > 0" 
      (click)="confirmDelete()">
      Potvrdi brisanje
    </button>
  </div>
  
</la-square>
